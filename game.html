<!DOCTYPE html>
<html>
    <head>
        <title>Game</title>
        <script src="phaser.min.js"></script>
        <style>
            canvas {
                width: 100%;
                height: 100%;
            }
        </style>
    </head>
    <body>
        
        <script>
            
            var config = {
                type: Phaser.AUTO,
                width: 240,
                height: 176,
                physics: {
                    default: 'arcade',
                    arcade: {
                        gravity: {y: 500},
                        debug: false
                    }
                },
                scene: {
                    preload: preload,
                    create: create,
                    update: update
                }
            };
            
            var game = new Phaser.Game(config);
            
            function preload() {
                
                this.load.image('bground', 'game_assets/environment/background.png');
                this.load.image('mground', 'game_assets/environment/middleground.png');
                
                this.load.spritesheet('tilesets', 'game_assets/environment/tilesets.png', {frameWidth: 15, frameHeight: 15});
                this.load.tilemapTiledJSON('map', 'game_assets/maps/lv1.json');
                /*
                this.load.spritesheet('hero', 'game_assets/atlas/hero.png', {frameWidth:128, frameHeight:128});
                */
            };
            
            var map;
            
            function create() {
                
                this.add.image(120, 88, 'bground');
                this.add.image(120, 88, 'mground');
                
                map = this.make.tilemap({key: 'map'});
                var ground = map.addTilesetImage('tile', 'tilesets');
                
                console.log('work');
                
                var layer = map.createStaticLayer(0, ground, 0, 0); //ต้องสร้างเลเยอร์ด้วยแมพถึงจะโชว์

               this.cameras.main.setBounds(0, 0, map.widthInPixels, map.heightInPixels);
                
                /*
                this.layer2 = map.createDynamicLayer('tile');*/
                /*this.layer = map.createDynamicLayer('walls');
                */
                /*var groundLayer = map.createDynamicLayer('World', ground, 0, 0);*/
                
                
                /*this.physics.add.sprite(0, 0, 'hero');*/
            };
            
            function update() {};
            
        </script>
    </body>
</html>